<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Z1 Winterfest</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>

<body>
    <div class="mobile-container">
        <!-- Mobile Header -->
        <header class="mobile-header">
            <div class="brand">
                <h1>Z1 Winterfest 2025</h1>
            </div>
        </header>

        <!-- Mobile Main -->
        <main class="mobile-main">
            <!-- Navigation Bar -->
            <nav class="mobile-nav" id="mobile-nav">
                <button class="mobile-nav-btn active" id="nav-information">
                    <i class="fas fa-info-circle"></i>
                    <span>Information</span>
                </button>
                <button class="mobile-nav-btn" id="nav-registration">
                    <i class="fas fa-user-plus"></i>
                    <span>Registration</span>
                </button>
                <button class="mobile-nav-btn" id="nav-checkout">
                    <i class="fas fa-shopping-cart"></i>
                    <span>Checkout</span>
                </button>
                <button class="mobile-nav-btn" id="nav-dashboard">
                    <i class="fas fa-chart-line"></i>
                    <span>Dashboard</span>
                </button>
                <button class="mobile-nav-btn" id="nav-support">
                    <i class="fas fa-question-circle"></i>
                    <span>Support</span>
                </button>
            </nav>

            <!-- Sections -->
            <section id="information-section" class="mobile-section active">
                <div class="container py-3">
                    <!-- Welcome Section -->
                    <section class="mb-3">
                        <div class="section-header">
                            <h1>Instructions</h1>
                        </div>
                        <ul class="bullet-points">
                            <li>Participation fee is <strong>Rs.700/- per flat.</strong></li>
                            <li>Irrespective of the number of forms submitted from <strong>your flat</strong>, you only
                                need to <strong>pay Rs.700/- once.</strong></li>
                            <li>If you wish to <strong>host a Food stall</strong>, the fee is <strong>Rs. 800/- per day
                                    per stall</strong> (on first come first serve basis).</li>
                            <li>Please submit form by <strong>Monday, 3rd November 2025.</strong></li>
                        </ul>
                    </section>
                    <!-- Event Schedule Section -->
                    <section class="mb-3">
                        <div class="section-header">
                            <h2>Event Schedule</h2>
                        </div>
                        <strong style="color: #8B4513;">[Will be shared soon!]</strong>
                    </section>
                    &nbsp;
                    <!-- Register Button -->
                    <section class="text-center">
                        <button class="modern-btn" id="registerParticipantBtn">
                            <i class="fas fa-user-plus"></i> Register Participant
                        </button>
                    </section>
                </div>
            </section>

            <section id="registration-section" class="mobile-section">
                <div class="container py-3">
                    <form id="registrationForm">
                        <!-- Participant Information Section -->
                        <section class="mb-3" id="participantSection">
                            <div class="section-header">
                                <h2>Participant Information</h2>
                            </div>
                            <!-- Email -->
                            <div class="mb-3">
                                <label for="email" class="form-label" style="font-weight: bold;">Email</label>
                                <input type="email" class="form-control" id="email" placeholder="Enter email"
                                    required />
                            </div>
                            <!-- Name -->
                            <div class="mb-3">
                                <label for="name" class="form-label" style="font-weight: bold;">Name</label>
                                <input type="text" class="form-control" id="name" placeholder="Enter full name"
                                    required />
                            </div>
                            <!-- Phone Number -->
                            <div class="mb-3">
                                <label for="phone" class="form-label" style="font-weight: bold;">Phone Number</label>
                                <input type="tel" class="form-control" id="phoneNumber" name="phoneNumber"
                                    pattern="^\+?(\d{1,4}[\s\-]?)?(\(?\d{1,3}\)?[\s\-]?)?[\d\s\-]{4,10}$"
                                    title="Enter a valid phone number. Include country and area code if necessary."
                                    placeholder="Enter phone number" required />
                            </div>
                            <!-- Tower -->
                            <div class="mb-3">
                                <label for="tower" class="form-label" style="font-weight: bold;">Tower</label>
                                <select class="form-select" id="tower" required>
                                    <option value="">Select Tower</option>
                                    <option value="Tower A">Tower A</option>
                                    <option value="Tower B">Tower B</option>
                                    <option value="Tower C">Tower C</option>
                                    <option value="Tower D">Tower D</option>
                                    <option value="Tower E">Tower E</option>
                                    <option value="Tower F">Tower F</option>
                                    <option value="Tower G">Tower G</option>
                                    <option value="Tower 1">Tower 1</option>
                                    <option value="Tower 2">Tower 2</option>
                                    <option value="Tower 3">Tower 3</option>
                                    <option value="Tower 4">Tower 4</option>
                                    <option value="Tower 5">Tower 5</option>
                                    <option value="Tower 6">Tower 6</option>
                                    <option value="Tower 7">Tower 7</option>
                                    <option value="Tower 8">Tower 8</option>
                                </select>
                            </div>
                            <!-- Flat Number -->
                            <div class="mb-3">
                                <label for="flat" class="form-label" style="font-weight: bold;">Flat Number</label>
                                <input type="number" class="form-control" id="flat" placeholder="Enter flat number"
                                    required />
                            </div>
                            <!-- Gender -->
                            <div class="mb-3">
                                <label style="font-weight: bold;">Gender</label>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="gender" id="male" value="Male"
                                        required />
                                    <label class="form-check-label" for="male">Male</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="gender" id="female"
                                        value="Female" />
                                    <label class="form-check-label" for="female">Female</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="gender" id="other"
                                        value="Other" />
                                    <label class="form-check-label" for="other">Other</label>
                                </div>
                            </div>
                            <!-- Age Group -->
                            <div class="mb-3">
                                <label style="font-weight: bold;">Age Group</label>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="ageGroup" id="3-5"
                                        value="3-5" onchange="updateCompetitionsDisplay(this.value)" required />
                                    <label class="form-check-label" for="3-5">3-5</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="ageGroup" id="6-9"
                                        value="6-9" onchange="updateCompetitionsDisplay(this.value)" required />
                                    <label class="form-check-label" for="6-9">6-9</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="ageGroup" id="10-13"
                                        value="10-13" onchange="updateCompetitionsDisplay(this.value)" required />
                                    <label class="form-check-label" for="10-13">10-13</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="ageGroup" id="14-17"
                                        value="14-17" onchange="updateCompetitionsDisplay(this.value)" required />
                                    <label class="form-check-label" for="14-17">14-17</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="ageGroup" id="18-35"
                                        value="18-35" onchange="updateCompetitionsDisplay(this.value)" required />
                                    <label class="form-check-label" for="18-35">18-35</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="ageGroup" id="36-55"
                                        value="36-55" onchange="updateCompetitionsDisplay(this.value)" required />
                                    <label class="form-check-label" for="36-55">36-55</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="ageGroup" id="56+"
                                        value="56+" onchange="updateCompetitionsDisplay(this.value)" required />
                                    <label class="form-check-label" for="56+">56+</label>
                                </div>
                            </div>
                        </section>

                        <!-- Registration Type Selection -->
                        <section class="mb-3" id="registrationTypeSection" style="display: none;">
                            <div class="section-header">
                                <h2>Registration Type</h2>     
                            </div>
                            <p style="color: #4b0082;">What would you like to register for?</p>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="registrationType"
                                    id="competitionType" value="competition" required />
                                <label class="form-check-label" for="competitionType">
                                    <strong>Competition</strong> - Participate in an event
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="registrationType" id="foodstallType"
                                    value="foodstall" />
                                <label class="form-check-label" for="foodstallType">
                                    <strong>Food Stall</strong> - Book a food stall
                                </label>
                            </div>
                        </section>

                        <!-- Competitions Section -->
                        <section class="mb-3" id="competitionsSection" style="display: none;">
                            <div class="section-header">
                                <h2>Competitions</h2>
                            </div>
                            <div id="competitionsContainer" class="mt-3">
                                <!-- Competitions will be populated here dynamically -->
                            </div>
                        </section>

                        <!-- Food Stall Section -->
                        <section class="mb-3" id="foodstallSection" style="display: none;">
                            <div class="section-header">
                                <h2>Food Stalls</h2>
                            </div>
                            <p>Food Stall charges are <strong>Rs. 800 per day per stall</strong>.
                            </p>
                            <!-- Static Checkbox list for dates -->
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="date-9nov" value="Sunday, 9 Nov" />
                                <label class="form-check-label" for="date-9nov">Sunday, 9 Nov</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="date-15nov"
                                    value="Saturday, 15 Nov" />
                                <label class="form-check-label" for="date-15nov">Saturday, 15 Nov</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="date-16nov"
                                    value="Sunday, 16 Nov" />
                                <label class="form-check-label" for="date-16nov">Sunday, 16 Nov</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="date-22nov"
                                    value="Saturday, 22 Nov" />
                                <label class="form-check-label" for="date-22nov">Saturday, 22 Nov</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="date-23nov"
                                    value="Sunday, 23 Nov" />
                                <label class="form-check-label" for="date-23nov">Sunday, 23 Nov</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="date-29nov"
                                    value="Saturday, 29 Nov" />
                                <label class="form-check-label" for="date-29nov">Saturday, 29 Nov</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="date-30nov"
                                    value="Sunday, 30 Nov" />
                                <label class="form-check-label" for="date-30nov">Sunday, 30 Nov</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="date-6dec"
                                    value="Saturday, 6 Dec" />
                                <label class="form-check-label" for="date-6dec">Saturday, 6 Dec</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="date-7dec" value="Sunday, 7 Dec" />
                                <label class="form-check-label" for="date-7dec">Sunday, 7 Dec</label>
                            </div>
                            <div>&nbsp;</div>
                            <!-- Food Menu -->
                            <label for="foodMenu" class="form-label">Please mention your <strong>Food menu</strong>. We
                                will not accept booking without this information.</label>
                            <textarea class="form-control" id="foodMenu" rows="3" required></textarea>
                        </section>

                        <!-- Next Step Button (appears after registration type details are filled) -->
                        <section class="mb-3" id="nextStepSection" style="display: none;">
                            <div class="text-center">
                                <button type="button" class="modern-btn" id="nextStepBtn">
                                    Next <i class="fas fa-arrow-right"></i>
                                </button>
                            </div>
                        </section>

                        <!-- Add Another Participant Question (for competitions only) -->
                        <section class="mb-3" id="addAnotherSection" style="display: none;">
                            <div class="section-header">
                                <h2>Add Another Participant</h2>
                            </div>
                            <p>Do you want to submit details of another participant from your Flat?</p>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="addAnother" id="addAnotherYes"
                                    value="yes" />
                                <label class="form-check-label" for="addAnotherYes">Yes, add another participant</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="addAnother" id="addAnotherNo"
                                    value="no" />
                                <label class="form-check-label" for="addAnotherNo">No, proceed to checkout</label>
                            </div>
                        </section>

                        <!-- Action Buttons -->
                        <section class="mb-3" id="actionButtonsSection" style="display: none;">
                            <div class="text-center">
                                <button type="button" class="modern-btn me-2" id="backBtn"
                                    style="display: none;">
                                    <i class="fas fa-arrow-left"></i> Back
                                </button>
                                <button type="button" class="modern-btn" id="continueBtn">
                                    Continue <i class="fas fa-arrow-right"></i>
                                </button>
                                <button type="button" class="modern-btn" id="addToCartBtn" style="display: none;">
                                    <i class="fas fa-arrow-right"></i> Proceed
                                </button>
                            </div>
                        </section>
                    </form>
                </div>
            </section>

            <section id="checkout-section" class="mobile-section">
                <div class="container py-3">

                    <!-- Cart Items -->
                    <section class="mb-3" id="cartSection">
                        <div class="section-header">
                            <h3>Registered Participants</h3>
                        </div>
                        <div id="flatDisplay" class="mb-3" style="display: none;">
                            <strong><span id="flatNumberDisplay"></span></strong>
                        </div>
                        <div id="cartItems" class="table-responsive">
                            <table class="table table-striped" id="cartTable">
                                <thead>
                                    <tr>
                                        <th>Name</th>
                                        <th>Age Group</th>
                                        <th>Details</th>
                                        <th>Action</th>
                                    </tr>
                                </thead>
                                <tbody id="cartTableBody">
                                    <tr>
                                        <td colspan="4" class="text-muted">No participants registered yet. Add participants from the Registration tab.</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </section>

                    <!-- Acknowledgement Section -->
                    <section class="mb-3" id="checkoutRulesSection">
                        <div class="section-header">
                            <h3>Acknowledgement</h3>
                        </div>
                        <div>
                            <strong>Eligibility</strong>
                            <ul class="bullet-points">
                                <li>Participants must be residents of Z1.</li>
                                <li>Participants can only play in their own age category as specified for that event.
                                </li>
                                <li>Age validation - If required, organizers will request for age proof of participants
                                    and then assign them to the appropriate age category.</li>
                            </ul>
                            &nbsp
                            <strong>General Rules</strong>
                            <ul class="bullet-points">
                                <li>All participation forms must be received by Monday, 3rd November 2025.</li>
                                <li>Participants must arrive on time as per schedule.</li>
                                <li>If an event doesn't have a minimum of 4 individual/ team participation, it will be
                                    canceled.</li>
                                <li>Participants from the senior most age category can choose to drop down to the
                                    previous age category.</li>
                                <li>Each contest will have a Winner and a Runners-up. The decision of Referee/ Umpire/
                                    Linesman/ Judge will be final.</li>
                            </ul>
                            &nbsp
                            <strong>Racket games</strong>
                            <ul class="bullet-points">
                                <li>Racket games such as Badminton, Lawn Tennis and Table Tennis will be conducted as a
                                    separate event in the month of January 2026.</li>
                            </ul>
                            &nbsp
                            <strong>Other competition specific rules</strong>
                            <ul class="bullet-points">
                                <li><strong style="color: #8B4513;">[Will be shared soon!]</strong></li>
                                <!-- <a
                                        href="https://docs.google.com/document/d/1BE8XK-kl9kdpqbTX6sVo0VQXfe7bPPDbwTRa9D2aHww"
                                        target="_blank"> -->
                            </ul>
                            <div class="acknowledgement-highlight">
                                <div class="form-check mb-3">
                                    <input class="form-check-input" type="checkbox" id="checkoutAcknowledge" required />
                                    <label class="form-check-label" for="checkoutAcknowledge">
                                        <strong>I have read and agree to the Z1 Winterfest 2025 rules.</strong>
                                    </label>
                                </div>
                            </div> 
                        </div>
                    </section>

                    <!-- Payment Section -->
                    <section class="mb-3" id="checkoutPaymentSection">
                        <div class="section-header">
                            <h3>Payment</h3>
                        </div>
                        <p>Please check the appropriate option! &nbsp</p>
                        <strong>Option 1 :</strong>
                        <p>
                            If this is the <strong>first</strong> submission from your flat, select this option,
                            make the payment and attach payment screenshot.
                        </p>
                        <p id="checkoutTotalCharge" style="color: #4b0082;">Total Amount to be paid: INR 0</p>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="checkoutPaymentOption"
                                id="checkoutOption1" value="I will pay for participation and/or food stall now." />
                            <label class="form-check-label" for="checkoutOption1">I will pay for participation and/or
                                food stall now.</label>
                        </div>
                        <div class="dividerthin"></div>
                        <strong>Option 2 :</strong>
                        <p>
                            If you are registering <strong>again</strong> for additional participation from your flat, and
                            have <strong>already paid Rs.700</strong>, select this option, skip the payment and
                            attach original payment screenshot.
                        </p>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="checkoutPaymentOption"
                                id="checkoutOption2" value="I have already made a payment for my flat." />
                            <label class="form-check-label" for="checkoutOption2">I have already made a payment for my
                                flat.</label>
                        </div>
                        <div class="dividerthin"></div>
                        <div class="mb-3">
                            <p style="color: #4b0082;">
                                <strong>Pay via UPI:</strong>
                            </p>
                            <!-- <p>
                                Use below QR code or below UPI ID
                                <strong>vyapar.171174085726@hdfcbank</strong>
                            </p>
                            <img src="resources/qrcode.png" alt="QRcode" class="img-fluid" /> -->
                        </div>
                        <div class="mb-3">
                            <label for="checkoutPaymentConfirmation" class="form-label">Upload Payment
                                Screenshot</label>
                            <input type="file" class="form-control" id="checkoutPaymentConfirmation" accept="image/*"
                                required />
                        </div>
                    </section>
                    &nbsp;
                    <!-- Submit Section -->
                    <section class="mb-3">
                        <div class="text-center">
                            <button type="button" class="modern-btn" id="finalSubmitBtn">
                                <i class="fas fa-paper-plane"></i> Submit Registrations
                            </button>
                        </div>
                    </section>
                </div>
            </section>

            <section id="dashboard-section" class="mobile-section">
                <div class="container py-3">
                    <div class="section-header">
                        <h2>Dashboard</h2>
                    </div>
                    
                    <p><strong style="color: #8B4513;">Coming soon!</strong></p>
                </div>
            </section>

            <section id="support-section" class="mobile-section">
                <div class="container py-3">
                    <div class="section-header">
                        <h2>Support</h2>
                    </div>
                    <p><strong style="color: #8B4513;">Coming soon!</strong></p>
                </div>
            </section>
        </main>
    </div>
    <div id="loadingSpinner" class="loader" hidden></div>
    <div id="loadingOverlay" class="overlay" hidden></div>
    <div id="successModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <p><strong>Thank you!</strong></p>
            <p>Your registration is submitted successfully.</p>
            <p style="color: #4b0082;">Registration Id: <span id="registrationId">...</span></p>
            <img src="resources/thankyou.png" alt="Thank you" class="img-fluid" />
            &nbsp
            <div class="dividerthin"></div>
            <button id="newRegistrationBtn" class="modern-btn">Submit New Registration</button>
        </div>
    </div>
    <div id="errorModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <p>An error occurred during registration!</p>
            <p style="color: #820000c2;">Error details: <span id="errorInfo">...</span></p>
            <img src="resources/thankyou.png" alt="Thank you" class="img-fluid" />
            &nbsp
            <div class="dividerthin"></div>
            <button id="retryRegistrationBtn" class="modern-btn">Retry Registration</button>
        </div>
    </div>
    <div id="loginModal" class="modal">
        <div class="modal-content">
            <h4>Verify Admin</h4>
            &nbsp
            <div class="form-group" style="padding-bottom: 10px;">
                <input type="email" id="userEmail" class="form-control" placeholder="Enter your email" required />
                <div class="invalid-feedback">Please provide your email.</div>
            </div>
            <div class="form-group">
                <input type="password" id="userPasskey" class="form-control" placeholder="Enter your passkey"
                    required />
                <div class="invalid-feedback">Please provide your passkey.</div>
            </div>
            <div class="dividerthin"></div>
            <button id="loginButton" class="btn btn-primary">Login</button>
        </div>
    </div>
    <div id="registrationClosedModal" class="modal">
        <div class="modal-content">
            <p><strong>Thank you!</strong></p>
            <p>Z1 Winterfest 2025 registrations are closed now.</p>
            <p style="color: #4b0082;">You may reach out via WhatsApp for any support needed.</p>
            <img src="resources/thankyou.png" alt="Thank you" class="img-fluid" />
            &nbsp
            <div class="dividerthin"></div>
            <button id="dashboardButton" class="btn">View Dashboard</button>
        </div>
    </div>

    <script src="competitions.js"></script>
    <script src="app.js"></script>

    <!-- IMPORTANT: Update the Google Apps Script URL in app.js
         Replace YOUR_SCRIPT_ID with your actual Google Apps Script deployment ID
         The URL should look like: https://script.google.com/macros/s/YOUR_ACTUAL_SCRIPT_ID/exec
    -->

    <!-- Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>
</body>

</html>